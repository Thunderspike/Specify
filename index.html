<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Specify Table</title>
    <link rel="icon" href="./images/arrow_edge.ico" />

    <link rel="stylesheet" href="./css/waves/waves.css" />
    <link rel="stylesheet" href="./css/uikit/uikit.css" />
    <link rel="stylesheet" href="./css/specify/styles.css" />
    <link rel="stylesheet" href="./css/specify/editorHeaders.css">
    <!-- tSort deson't work with latest jquery -->
    <script src="https://code.jquery.com/jquery-2.2.4.js"></script>

    <script src="./js/waves/waves.js"></script>
    <script src="./js/specify/tsort.js"></script>
    <script src="./js/uikit/uikit.min.js"></script>
    <script src="./js/uikit/uikit-icons.js"></script>
    <script src="./js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
    <nav class="uk-section-primary uk-preserve-color uk-light" uk-navbar>
        <div class="uk-navbar-left">
            <ul class="uk-navbar-nav">
                <div class="uk-tile uk-padding-small">
                    <h1 class="uk-heading-small customAppBarHeader">
                        Specify
                        <span id="widgetTitle" class="uk-text-light">table</span>
                    </h1>
                </div>
            </ul>
        </div>
        <div class="uk-navbar-right">
            <span uk-icon="icon: nut; ratio: 1.5" class="nutIcon uk-icon-link"></span>
        </div>
    </nav>

    <div id="offcanvas-push" uk-offcanvas="mode: push; overlay: true">
        <div class="uk-offcanvas-bar">

            <button class="uk-offcanvas-close" type="button" uk-close></button>

            <h3>Title</h3>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat.</p>

        </div>
    </div>

    <div class="uk-margin-top uk-flex uk-flex-center">
        <div class="uk-width-5-6">
            <div class="uk-grid-medium">
                <div class="uk-card uk-card-secondary uk-card-small uk-card-body">
                    <h3 class="uk-card-title">An app that helps you create HTML tables by specifying data inputs and
                        configuring them with the editors below</h3>
                </div>
            </div>
        </div>
    </div>


    <div class="uk-margin-top uk-flex uk-flex-center">
        <div class="uk-width-5-6">
            <div class="uk-child-width-1-2@m uk-grid-medium" uk-grid uk-height-match="target: > article">

                <div>
                    <article class="uk-article">
                        <p class="uk-text-lead">Input Editor</p>

                        <p uk-height-match=".editorHeader">The Input Editor expects an object with structure {
                            data: [ header,
                            ...rows ] } where
                            'header' is an array of the values representing the table columns, and `...rows` are any
                            number
                            of
                            arrays representing the
                            data you want initialize the table with</p>

                        <div id="input-editor-modal" uk-modal>
                            <div class="uk-modal-dialog uk-modal-body">
                                <h2 class="uk-modal-title">Input Editor</h2>
                                <p>Copy and paste the example below into the Input Editor for a table with 2 rows,
                                    and 4
                                    columns</p>

                                <div class="uk-card uk-card-default uk-card-body uk-width-3-4@xs uk-padding-small">
                                    {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"data": [<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["First name", "Last name",
                                    "Age",
                                    "Email"],<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["John", "Doe",
                                    "27","john@doe.gov"],<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["Jane", "Doe", "20",
                                    "Jane@ip.io"]<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;]<br>
                                    }
                                </div>

                                <p class="uk-text-right">
                                    <button class="uk-button uk-button-default uk-modal-close" type="button">Ok</button>
                                </p>
                            </div>
                        </div>
                    </article>
                </div>

                <div>
                    <article class="uk-article">

                        <p class=" uk-text-lead">Data Configuration Editor</p>

                        <p class="editorHeader">The Configuration Editor can be given an object {object} with
                            top level properties like "editable",
                            "sortable" and "markers". Likewise, users can provide a value for the "cells" key - where
                            they
                            can specify
                            provide pointers to row/column coordinates
                            in the form of "r0c0" ("r0c0" representing row 0 column 0) to further provide more granular
                            editability features for the given table cell.
                        </p>

                        <div id="config-editor-modal" class="uk-modal-container" uk-modal>
                            <div class="uk-modal-dialog uk-modal-body" uk-overflow-auto>
                                <h2 class="uk-modal-title">Data Configuration Editor</h2>
                                <p>The Data Configuration Editor currently acceps 3 top level keys: </p>

                                <div class="uk-card uk-card-default uk-card-body uk-width-3-4@xs uk-padding-small">
                                    {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"editable": boolean,<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"sortable": boolean,<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;cells: { ... }<br>
                                    }
                                </div>

                                <p>The top level "editable" key allows you to edit all table cells below. The apps
                                    internal engine determines what "type" of editability the cell will allow by
                                    default
                                    (without more specific configuration)</p>

                                <p>"sortable" on the other hand toggles the abillity to sort the rows based on the
                                    selected column. Set "sortable" to true and click on any column in order to see
                                    this
                                    feature in action</p>

                                <p>"cells" expects an object where each key is a pointer to the cell in question -
                                    the
                                    keys must follow the pattern pattern "cYrX" where "cY" represents the column
                                    number,
                                    and "rX" represents the row number. X and Y are 0 based indices</p>

                                <p>Below is an acceptable configuration for a cell at row 0, column 0, and a second
                                    cell
                                    at row 1 column 1</p>

                                <div class="uk-card uk-card-default uk-card-body uk-width-3-4@xs uk-padding-small">
                                    "cells": {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"r0c0": {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "text"<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;},<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"r1c1": {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": [<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"flying",<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"lost in
                                    space"<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] <br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;},<br>
                                    }
                                </div>

                                <p>"r0c0" represents row 0 column 0, the top-right most cell. <br>
                                    "type": "text" means that the cell can be edited as a "text" based input field.
                                </p>
                                <p>
                                    "r1c1" on the other hand is the cell on the second column, on the second row.
                                    <br>
                                    Its "type" is an array of values, representing an enum. This meeans that the
                                    editable values of a cell will be provided from a dropdown
                                </p>

                                <b>Double click on a cell to edit it!</b>

                                <p>
                                    The possible types of a cell are
                                </p>

                                <div class="uk-card uk-card-default uk-card-body uk-width-3-4@xs uk-padding-small">
                                    "text", "number", "email" and [...customEnumValues] (up to 3)
                                </div>

                                <p>For "number" types you can also provide "min" and "max" values</p>

                                <div class="uk-card uk-card-default uk-card-body uk-width-3-4@xs uk-padding-small">
                                    "r0c3": {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"type": "number",<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"min": 17,<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"max": 100<br>
                                    }
                                </div>

                                <p>For "number" types you can also provide "min" and "max" values</p>

                                <p class="uk-text-right">
                                    <button class="uk-button uk-button-default uk-modal-close" type="button">Got
                                        it</button>
                                </p>

                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </div>


    <div class="uk-flex uk-flex-center">
        <div class="uk-width-5-6">
            <div class="uk-child-width-1-2@m uk-grid-medium" uk-grid uk-height-match="target: > .ace_content">
                <!-- dom structure specific so that shadow animation can work -->
                <div>
                    <div style="position: relative">
                        <div id="inputEditorCard"
                            class="editorCardPadding cardAnimShadow specifyBorderRadius uk-card-default uk-flex">
                            <ul class="uk-iconnav uk-iconnav-vertical iconbar">
                                <li><a class="uk-icon-button ripple" uk-icon="info" uk-tooltip="Input Editor API"
                                        href="#input-editor-modal" uk-toggle></a></li>
                                <li><a class="uk-icon-button ripple" uk-tooltip="Reset Input Editor data"
                                        uk-icon="refresh" onclick="inputEditor.resetData()"></a></li>
                            </ul>
                            <div class="uk-width">
                                <div id="inputMessageCont" class="uk-flex uk-flex-between editorActions">
                                    <div>
                                        <div id="inputInvalidSyntax" class="syntaxBox" hidden>
                                            <span uk-icon="warning" class="icon icon-pb2px"></span>
                                            <span class="text ml4px mr4px uk-animation-slide-bottom-medium">
                                                The JSON structure provided is invalid.
                                            </span>
                                        </div>
                                    </div>
                                    <div>
                                        <button id="submitInput"
                                            class="uk-button uk-button-default editorButton ripple  okColor " hidden
                                            onclick="inputEditor.configureInput()">
                                            <span uk-icon="check" class="icon icon-pb2px"></span>
                                            <span
                                                class="text ml4px mr4px uk-animation-slide-bottom-medium">Submit</span>
                                        </button>
                                    </div>
                                </div>
                                <div id="inputValidator" class="verifyCont"></div>

                                <div id="specifyDataEditor_wrapper" class="app_editor_wrapper mb0_5em">
                                    <div id="specifyDataEditor" class="editor editorDims"></div>
                                    <div id="specifyDataEditor_dragbar" class="app_editor_dragbar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="position: relative">
                    <div id="configEditorCard"
                        class="uk-card editorCardPadding cardAnimShadow specifyBorderRadius uk-card-default uk-flex">
                        <div class="uk-dark specifyBorderRadius uk-flex uk-width">
                            <ul class="uk-iconnav uk-iconnav-vertical iconbar ">
                                <li><a class="uk-icon-button ripple" uk-icon="info" uk-tooltip="Config Editor API"
                                        href="#config-editor-modal" uk-toggle></a></li>
                                <li><a class="uk-icon-button ripple" uk-tooltip="Reset Config Editor data"
                                        uk-icon="refresh" onclick="configEditor.resetData()"></a></li>
                            </ul>
                            <div class="uk-width">
                                <div id="configMessageCont" class="uk-flex uk-flex-between editorActions">
                                    <div>
                                        <div id="configInvalidSyntax" class="syntaxBox uk-animation-slide-bottom-medium"
                                            hidden>
                                            <span uk-icon="warning" class="icon icon-pb2px"></span>
                                            <span class="text ml4px mr4px uk-animation-slide-bottom-medium">
                                                The JSON structure provided is invalid.
                                            </span>
                                        </div>
                                    </div>
                                    <div>
                                        <button id="submitConfig"
                                            class="uk-button uk-button-default editorButton ripple okColor" hidden
                                            onclick="configEditor.callCreateTable()">
                                            <span uk-icon="check" class="icon icon-pb2px"></span>
                                            <span
                                                class="text ml4px mr4px uk-animation-slide-bottom-medium"></span>Submit</span>
                                        </button>
                                    </div>
                                </div>
                                <div id="configValidator" class="verifyCont"></div>

                                <div class="app_editor_wrapper">
                                    <div id="specifyConfigEditor" class="editor editorDims"></div>
                                    <div id="specifyConfigEditor_dragbar" class="app_editor_dragbar"></div>
                                </div>
                            </div>

                            <div id="configOverlayHandler"
                                class="uk-overlay-default uk-position-cover uk-animation-slide-right-medium"
                                uk-tooltip="Submit changes to Input Editor before proceeding">
                                <div class="uk-position-center">
                                    <span uk-icon="icon: ban; ratio: 2"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="uk-margin-top uk-margin-bottom uk-flex uk-flex-center ">
        <div class="uk-width-5-6">
            <!-- -->
            <div style="position: relative">
                <div id="tableWrapper" class="cardAnimShadow uk-flex mb6px">
                    <div id="tableContainer"
                        class="uk-card uk-card-body specifyBorderRadius overflow-x mui-shadow1 uk-width">
                        <p class="uk-position-center uk-margin-remove">Table is empty until Specified</p>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <script src="./js/specify/editor.js"></script>
    <script src="./js/specify/defaultData.js"></script>
    <script src="./js/specify/utils.js"></script>
    <script src="./js/specify/configEditor.js"></script>
    <script src="./js/specify/inputEditor.js"></script>
    <script src="./js/specify/specify.js"></script>

</body>

</html>